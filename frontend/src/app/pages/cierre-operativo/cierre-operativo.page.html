<app-custom-header title="Cierre Operativo"></app-custom-header>
<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col size="6">
        <ion-select
          placeholder="Elija una barra"
          (ionChange)="selectBarra($event)"
          [value]="barraCurrent"
        >
          <ion-select-option *ngFor="let barra of barras" [value]="barra"
            >{{barra.descripcion}}</ion-select-option
          >
        </ion-select>
      </ion-col>
      <ion-col size="6">
        <ion-button
          (click)="realizarCierre()"
          *ngIf="barraCurrent"
          expand="block"
        >
          Realizar Cierre
        </ion-button>
      </ion-col>
    </ion-row>
    <ion-row class="cabeceraTabla">
      <ion-col>Id</ion-col>
      <ion-col>Producto</ion-col>
      <ion-col>Categoria</ion-col>
      <ion-col>Entradas</ion-col>
      <ion-col>Salidas</ion-col>
      <ion-col>Vendido</ion-col>
      <ion-col>Stock</ion-col>
      <ion-col>Entregado</ion-col>
      <ion-col>Diferencia</ion-col>
    </ion-row>
    <ion-row class="detalleTabla" *ngFor="let stock of listReporteCierre">
      <ion-col>{{stock.idProducto}}</ion-col>
      <ion-col>{{stock.nombreProducto}}</ion-col>
      <ion-col>{{stock.categoria}}</ion-col>
      <ion-col>{{stock.entradaxAsignaciones | number : '1.2-2'}}</ion-col>
      <ion-col>{{stock.salidaxAsignaciones | number : '1.2-2'}}</ion-col>
      <ion-col>{{stock.cantidadVENDIDA | number : '1.2-2'}}</ion-col>
      <ion-col>{{stock.enStock | number : '1.2-2'}}</ion-col>
      <ion-col
        ><ion-input
          type="number"
          placeholder="0.00"
          [(ngModel)]="stock.cantidadEntregada"
          (change)="onChangeEntregado(stock)"
        >
        </ion-input
      ></ion-col>
      <ion-col>{{stock.diferencia | number : '1.2-2'}}</ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
